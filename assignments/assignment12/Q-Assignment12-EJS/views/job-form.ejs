<%- include("partials/head.ejs") %>
<%- include("partials/header.ejs") %>

<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title"><%= job ? 'Edit Job' : 'Add New Job' %></h5>
        
        <form method="POST">
          <div class="mb-3">
            <label for="company" class="form-label">Company:</label>
            <input type="text" name="company" id="company" class="form-control" 
                   value="<%= job ? job.company : '' %>" required />
          </div>
          <div class="mb-3">
            <label for="position" class="form-label">Position:</label>
            <input type="text" name="position" id="position" class="form-control" 
                   value="<%= job ? job.position : '' %>" required />
          </div>
          <div class="mb-3">
            <label for="status" class="form-label">Status:</label>
            <select name="status" id="status" class="form-control" required>
              <option value="pending" <%= job && job.status === 'pending' ? 'selected' : '' %>>Pending</option>
              <option value="interview" <%= job && job.status === 'interview' ? 'selected' : '' %>>Interview</option>
              <option value="declined" <%= job && job.status === 'declined' ? 'selected' : '' %>>Declined</option>
            </select>
          </div>
          <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">
              <%= job ? 'Update Job' : 'Create Job' %>
            </button>
            <a href="/jobs" class="btn btn-secondary">Cancel</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<%- include("partials/footer.ejs") %>